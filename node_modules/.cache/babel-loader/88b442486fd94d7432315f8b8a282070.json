{"ast":null,"code":"import { PointLight } from './point-light';\nimport { getUniformsFromViewport } from '../../shaderlib/project/viewport-uniforms';\nexport default class CameraLight extends PointLight {\n  getProjectedLight({\n    layer\n  }) {\n    const {\n      projectedLight\n    } = this;\n    const viewport = layer.context.viewport;\n    const {\n      coordinateSystem,\n      coordinateOrigin,\n      modelMatrix\n    } = layer.props;\n    const {\n      project_uCameraPosition\n    } = getUniformsFromViewport({\n      viewport,\n      modelMatrix,\n      coordinateSystem,\n      coordinateOrigin\n    });\n    projectedLight.color = this.color;\n    projectedLight.intensity = this.intensity;\n    projectedLight.position = project_uCameraPosition;\n    return projectedLight;\n  }\n\n}","map":{"version":3,"sources":["../../../../src/effects/lighting/camera-light.ts"],"names":["getProjectedLight","layer","projectedLight","viewport","modelMatrix","project_uCameraPosition","getUniformsFromViewport","coordinateOrigin"],"mappings":"AACA,SAAA,UAAA,QAAA,eAAA;AACA,SAAA,uBAAA,QAAA,2CAAA;AAGA,eAAe,MAAA,WAAA,SAAA,UAAA,CAAqC;AAClDA,EAAAA,iBAAiB,CAAC;AAACC,IAAAA;AAAD,GAAD,EAAsC;AACrD,UAAM;AAACC,MAAAA;AAAD,QAAN,IAAA;AACA,UAAMC,QAAQ,GAAGF,KAAK,CAALA,OAAAA,CAAjB,QAAA;AACA,UAAM;AAAA,MAAA,gBAAA;AAAA,MAAA,gBAAA;AAAqCG,MAAAA;AAArC,QAAoDH,KAAK,CAA/D,KAAA;AACA,UAAM;AAACI,MAAAA;AAAD,QAA4BC,uBAAuB,CAAC;AAAA,MAAA,QAAA;AAAA,MAAA,WAAA;AAAA,MAAA,gBAAA;AAIxDC,MAAAA;AAJwD,KAAD,CAAzD;AAMAL,IAAAA,cAAc,CAAdA,KAAAA,GAAuB,KAAvBA,KAAAA;AACAA,IAAAA,cAAc,CAAdA,SAAAA,GAA2B,KAA3BA,SAAAA;AACAA,IAAAA,cAAc,CAAdA,QAAAA,GAAAA,uBAAAA;AACA,WAAA,cAAA;AACD;;AAfiD","sourcesContent":["/* eslint-disable camelcase */\nimport {PointLight} from './point-light';\nimport {getUniformsFromViewport} from '../../shaderlib/project/viewport-uniforms';\nimport type Layer from '../../lib/layer';\n\nexport default class CameraLight extends PointLight {\n  getProjectedLight({layer}: {layer: Layer}): PointLight {\n    const {projectedLight} = this;\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin, modelMatrix} = layer.props;\n    const {project_uCameraPosition} = getUniformsFromViewport({\n      viewport,\n      modelMatrix,\n      coordinateSystem,\n      coordinateOrigin\n    });\n    projectedLight.color = this.color;\n    projectedLight.intensity = this.intensity;\n    projectedLight.position = project_uCameraPosition;\n    return projectedLight;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}