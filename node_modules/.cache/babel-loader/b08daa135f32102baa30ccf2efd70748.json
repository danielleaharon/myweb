{"ast":null,"code":"import { WorkerFarm } from '@loaders.gl/worker-utils';\nimport { isBrowser } from '../env-utils/globals';\nexport function canEncodeWithWorker(writer, options) {\n  if (!WorkerFarm.isSupported()) {\n    return false;\n  }\n\n  if (!isBrowser && !(options !== null && options !== void 0 && options._nodeWorkers)) {\n    return false;\n  }\n\n  return writer.worker && (options === null || options === void 0 ? void 0 : options.worker);\n}","map":{"version":3,"sources":["../../../../src/lib/worker-loader-utils/encode-with-worker.ts"],"names":["WorkerFarm","options","writer"],"mappings":"AAAA,SAAA,UAAA,QAAA,0BAAA;AAEA,SAAA,SAAA,QAAA,sBAAA;AAOA,OAAO,SAAA,mBAAA,CAAA,MAAA,EAAA,OAAA,EAAsE;AAC3E,MAAI,CAACA,UAAU,CAAf,WAAKA,EAAL,EAA+B;AAC7B,WAAA,KAAA;AACD;;AAGD,MAAI,CAAA,SAAA,IAAc,EAACC,OAAD,KAAA,IAACA,IAAAA,OAAD,KAAA,KAAA,CAACA,IAAAA,OAAO,CAA1B,YAAkB,CAAlB,EAA0C;AACxC,WAAA,KAAA;AACD;;AAED,SAAOC,MAAM,CAANA,MAAAA,KAAiBD,OAAjBC,KAAAA,IAAiBD,IAAAA,OAAjBC,KAAAA,KAAAA,CAAiBD,GAAjBC,KAAAA,CAAiBD,GAAAA,OAAO,CAA/B,MAAOC,CAAP;AACD","sourcesContent":["import {WorkerFarm} from '@loaders.gl/worker-utils';\nimport {Writer, WriterOptions} from '../../types';\nimport {isBrowser} from '../env-utils/globals';\n\n/**\n * Determines if a loader can parse with worker\n * @param loader\n * @param options\n */\nexport function canEncodeWithWorker(writer: Writer, options?: WriterOptions) {\n  if (!WorkerFarm.isSupported()) {\n    return false;\n  }\n\n  // Node workers are still experimental\n  if (!isBrowser && !options?._nodeWorkers) {\n    return false;\n  }\n\n  return writer.worker && options?.worker;\n}\n"]},"metadata":{},"sourceType":"module"}